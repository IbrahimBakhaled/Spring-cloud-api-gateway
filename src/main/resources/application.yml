eureka:
    instance:
        hostname: localhost
        nonSecurePortEnabled: false
        securePortEnabled: true
        securePort: 8765
    client:
        registerWithEureka: true
        fetchRegistry: true
        serviceUrl:
            defaultZone: https://localhost:8761/eureka
    level:
        org:
            springframework:
                cloud:
                    gateway: DEBUG
        reactor:
            netty:
                http:
                    client: DEBUG
server:
    port: 8765
    ssl:
        enabled: true
        key-alias: relevebancaire
        key-store: classpath:relevebancaire-keystore.p12
        key-store-password: secret
        key-store-type: PKCS12
spring:
    application:
        name: api-gateway
    cloud:
        config:
            enabled: false
        gateway:
            discovery:
                locator:
                    enabled: true
            httpclient:
                wiretap: true
            httpserver:
                wiretap: true
            globalcors:
                corsConfigurations:
                    '[/**]':
                        allowedOrigins: "https://localhost:4200"
                        allowedHeaders: "*"
                        allowedMethods:
                            - GET
                            - POST
                            - PUT
                            - DELETE


#    OkToRetryOnAllOperations: true
#    ReadTimeout: 5000000
#    ConnectTimeout: 5000000
#    MaxAutoRetries: 3
#    MaxAutoRetriesNextServer: 3
#    CustomSSLSocketFactoryClassName: com.netflix.http4.ssl.AcceptAllSocketFactory
#    IsHostnameValidationRequired: false
#    TrustStore: classpath:relevebancaire-keystore.p12
#    TrustStorePassword : secret
ribbon:
    secure-ports: 8081,8082,8083,8765,8761

